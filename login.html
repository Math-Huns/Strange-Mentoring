<html>
    <head>

    </head>
    <body>
        <div id = "signup_cover">
            <div id = "signup_box">
                <ul id = "login_btn_list">
                </ul>
            </div>
        </div>
        <script>
            var logos = ['kakao', 'facebook', 'naver', 'google', 'main'];
            var ko_logos = ['카카오', '페이스북', '네이버', '구글', '수상한 공모전'];
            var login_btn_list = document.getElementById("login_btn_list")
        
            for (var i =0; i < 5; i++) {
                var hyper = document.createElement('a');
                var signup = document.createElement('li');
        
                hyper.id = logos[i] + "_btn";
                signup.className = "signup";
                signup.id = logos[i];
        
                signup.innerHTML = '<img src = "./img/' + logos[i] + '.png">';
                signup.innerHTML += '<span>' + ko_logos[i] + ' 계정으로 로그인</span>';
        
                switch (i) {
                    case 0 :
                        hyper.href = "javascript:loginWithKakao()";
                        break;
                    case 1 :
                        hyper.href = "#";
                        break;
                    case 2 :
                        hyper.href = "#";
                        break;
                    case 3 :
                        hyper.href = "#";
                        break;
                    case 4 :
                        hyper.href = "signup.html";
                        break;
                    default :
                        break;
                }
                
                hyper.appendChild(signup);
                login_btn_list.appendChild(hyper);
            }
        </script>
        <script type="text/javascript">
            function loginWithKakao() {
            if (!Kakao.isInitialized()) Kakao.init('d95b3958b7371e069942b4df18707e57');
    
              Kakao.Auth.login({
                success: function(authObj) {
                    alert(JSON.stringify(authObj))
                    Kakao.API.request({
                        url: '/v2/user/me',
                        success: function(response) {
                            var userID = response.id;
                            var useEmail = response.kakao_account.email;
                            var useNickName = response.properties.nickname;
                            
                            console.log("userID", userID);
                            console.log("userEmail", useEmail);
                            console.log("userNickName", useNickName);
                        },
                        fail: function(error) {
                            console.log("request fail", error);
                        }
                    });
                },
                fail: function(err) {
                    alert(JSON.stringify(err))
                },
              })
            }
          </script>
    </body>
</html>